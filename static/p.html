<html>
<script src="uv/uv.bundle.js"></script>
<script src="uv/uv.config.js"></script> 
<script src="/config.js"></script>
<!--script inserst cus i suck-->
<script>
    const stockSW = "/uv/sw.js";
const swAllowedHostnames = ["localhost", "127.0.0.1"];
function registerSW() {
  if (!navigator.serviceWorker) {
  if (
    location.protocol !== "https:" &&
    !swAllowedHostnames.includes(location.hostname)
  )
    throw new Error("Service workers cannot be registered without https.");
    document.write("</p>UV ERROR: Unable to register serviceworker - Serviceworkers cannot be registered without HTTPS</p>")
  throw new Error("Your browser doesn't support service workers.");
  }
  
navigator.serviceWorker.register(stockSW);
}
registerSW();   
</script>
<link href="assets/css/styles.css" rel="stylesheet">
<div class="centered_div">
<h1 style="text-align: center; color: white;">Search the web</h1>
<input class="uvsearch" id="search" onkeypress="redirUVSearch(handleUVSearch(), event)"></input>
</div>
<footer class="footer">
	<a class="footer_link" onclick="location.href=htmlConfig.creditsPath">Credits</a>
  <a class="footer_link" onclick="location.href=htmlConfig.settingsPath">Settings</a>
  <a class="footer_link" href="https://discord.gg/RTPATnD7ke">Discord</a>
</footer>
<header class="header">
<a class="header_link" href="/">Home</a>
<a class="header_link" onclick="location.href=htmlConfig.gamesPath">Games</a>
<a class="header_link" onclick="location.href=htmlConfig.searchPath">Search</a>
</header>
<style>
    .uvsearch {
        width: 30rem;
        padding: 1rem;
        border: none;
        border-radius: 10rem;
        margin-bottom: 10rem;
        text-align: center;
        display: block;
        margin-left: auto;
        margin-right: auto;
        font-size: 1.5rem;
    }
    .centered_div {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
    }
</style>
<script>
document.body.style.margin = '0';
document.body.style.height = '100vh';

function handleUVSearch() {
    let searchVal = document.getElementById("search").value 
    if (searchVal.includes("http") && searchVal.includes(":")) {
       return '/uv/service/' + __uv$config.encodeUrl(document.getElementById("search").value)
      return;
    }
    if (searchVal.includes(".") && !searchVal.includes(" ")) {
       return '/uv/service/' + __uv$config.encodeUrl("https://" + searchVal)
      return;
    }
    return '/uv/service/' + __uv$config.encodeUrl("https://google.com/search?q=" + searchVal)
}
function redirUVSearch(path, event) {
  if (event.key === 'Enter') {
  window.location.href = path
  event.preventDefault()
  }
}
</script>
</html>
